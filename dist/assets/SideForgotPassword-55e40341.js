import{_ as M}from"./principal_syscall-fb96c94f.js";import{x as B,Q as A,ac as C,ad as V,o as n,c as g,e as p,w as t,d as o,t as F,ae as P,l as f,b as e,az as y,af as S,z as r,ag as $,V as q,Y as L,ah as T,F as D,a,r as U,u as j,a3 as z,am as Y}from"./index-c6c85c3e.js";import{u as N,a as R}from"./vee-validate.esm-4770a0ce.js";const Q=a("p",{class:"text-subtitle-1 py-6 text-10"}," Por favor, insira o endereço de e-mail associado à sua conta e nós lhe enviaremos um link por e-mail, para redefinir sua senha. ",-1),Z=o("Email Address"),G=o("Recuperar senha "),H={emits:["after-request"],setup(v,{emit:l}){const m=B(),s=A(null),_=C({email:V().required().email().label("E-mail")}),{handleSubmit:x,errors:h,isSubmitting:b}=N({validationSchema:_,initialValues:{email:""}}),k=x(async c=>{s.value=null,await m.forgotPassword(c.email).then(()=>{l("after-request")}).catch(i=>{s.value=i.message})}),{value:d}=R("email");return(c,i)=>(n(),g(D,null,[s.value?(n(),p(P,{key:0,color:"error"},{default:t(()=>[o(F(s.value),1)]),_:1})):f("",!0),e(T,{onSubmit:L(r(k),["prevent"]),class:"mt-sm-13 mt-8"},{default:t(()=>[Q,e(y,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:t(()=>[Z]),_:1}),e(S,{modelValue:r(d),"onUpdate:modelValue":i[0]||(i[0]=u=>$(d)?d.value=u:null),placeholder:"email@agcocorp.com",type:"email",autofocus:"","error-messages":r(h).email},null,8,["modelValue","error-messages"]),e(q,{size:"large",type:"submit",loading:r(b),color:"primary",block:"",flat:""},{default:t(()=>[G]),_:1},8,["loading"])]),_:1},8,["onSubmit"])],64))}},I={class:"mt-sm-13 mt-8"},J=o("Digite o seu código de segurança de 6 dígitos."),K={class:"d-flex"},O=o("Digite a nova senha."),W={class:"d-flex"},X=o("Resetar a senha "),ee={class:"text-h6 mt-5 font-weight-regular"},te=o(" Didn't get the code? "),se=o(" Resend"),ae={emits:["after-reset"],setup(v,{emit:l}){const m=B(),s=A(null),_=C({token:V().required().label("Token"),password:V().min(8).required().matches(/^(?=.*[a-zA-Z])(?=.*[0-9])/,"Senha deve conter 8 caracteres e pelo menos uma letra e um número").label("Senha")}),{handleSubmit:x,errors:h,isSubmitting:b}=N({validationSchema:_,initialValues:{token:"",password:""}}),k=x(async i=>{s.value=null,await m.resetPassword(i.token,i.password).then(()=>{l("after-reset")}).catch(u=>{s.value=u.message})}),{value:d}=R("token"),{value:c}=R("password");return(i,u)=>{const E=U("RouterLink");return n(),g(D,null,[s.value?(n(),p(P,{key:0,color:"error"},{default:t(()=>[o(F(s.value),1)]),_:1})):f("",!0),e(T,{onSubmit:L(r(k),["prevent"]),class:"mt-sm-13 mt-8"},{default:t(()=>[a("div",I,[e(y,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:t(()=>[J]),_:1}),a("div",K,[e(S,{modelValue:r(d),"onUpdate:modelValue":u[0]||(u[0]=w=>$(d)?d.value=w:null),autofocus:"",maxlength:6,"error-messages":r(h).token},null,8,["modelValue","error-messages"])]),e(y,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:t(()=>[O]),_:1}),a("div",W,[e(S,{modelValue:r(c),"onUpdate:modelValue":u[1]||(u[1]=w=>$(c)?c.value=w:null),type:"password",autofocus:"","error-messages":r(h).password},null,8,["modelValue","error-messages"])]),e(q,{size:"large",type:"submit",loading:r(b),color:"primary",block:"",flat:""},{default:t(()=>[X]),_:1},8,["loading"]),a("h6",ee,[te,e(E,{to:"/",class:"text-primary text-subtitle-1 text-decoration-none pl-1 font-weight-medium"},{default:t(()=>[se]),_:1})])])]),_:1},8,["onSubmit"])],64)}}},oe=o(" Sua senha foi redefinida com sucesso! "),le={setup(v){const l=A("forgotPassword");return(m,s)=>(n(),g("div",null,[l.value==="forgotPassword"?(n(),p(H,{key:0,onAfterRequest:s[0]||(s[0]=_=>l.value="resetPassword")})):f("",!0),l.value==="resetPassword"?(n(),p(ae,{key:1,onAfterReset:s[1]||(s[1]=_=>l.value="reset")})):f("",!0),l.value==="reset"?(n(),p(P,{key:2,color:"success",class:"mb-2"},{default:t(()=>[oe]),_:1})):f("",!0)]))}},re={class:"pa-3"},ne=a("div",{class:"auth-header pt-sm-6 pt-2 px-sm-6 px-3 pb-sm-6 pb-0"},[a("div",{class:"position-relative"})],-1),ie=a("div",{class:""},[a("img",{src:M,class:"position-relative d-none d-lg-flex",alt:"login-background"})],-1),ue={class:"pa-sm-7 pa-4"},de=a("h2",{class:"text--darken-2 text-h4 font-weight-bold"},"SYSCALL",-1),ce=o("Back to Login"),fe=j({setup(v){return(l,m)=>(n(),g("div",re,[e(Y,{class:"h-100vh mh-100 auth"},{default:t(()=>[e(z,{cols:"12",lg:"8",xl:"8",xxl:"9",class:"d-lg-flex align-center justify-center authentication position-relative"},{default:t(()=>[ne,ie]),_:1}),e(z,{cols:"12",lg:"4",xl:"4",xxl:"3",class:"d-flex align-center justify-center"},{default:t(()=>[a("div",ue,[de,e(le),e(q,{size:"large",color:"lightprimary",to:"/login",block:"",class:"mt-5 text-primary",flat:""},{default:t(()=>[ce]),_:1})])]),_:1})]),_:1})]))}});export{fe as default};
