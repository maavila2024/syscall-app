import{_ as M}from"./login-bg-c9719f74.js";import{_ as U}from"./Logo-9c074b54.js";import{x as B,L as A,a7 as C,a8 as V,o as i,c as g,e as p,w as t,d as o,t as F,a9 as L,l as f,b as e,av as y,aa as S,z as r,ab as $,V as P,S as T,ac as z,F as D,a,r as j,u as Y,_ as q,ah as Z}from"./index-5bd303ee.js";import{u as N,a as R}from"./vee-validate.esm-13cfb3f8.js";import"./customizer-f4401013.js";const G=a("p",{class:"text-subtitle-1 py-6 text-10"}," Por favor, insira o endereço de e-mail associado à sua conta e nós lhe enviaremos um link por e-mail, para redefinir sua senha. ",-1),H=o("Email Address"),I=o("Recuperar senha "),J={emits:["after-request"],setup(v,{emit:l}){const m=B(),s=A(null),_=C({email:V().required().email().label("E-mail")}),{handleSubmit:x,errors:h,isSubmitting:b}=N({validationSchema:_,initialValues:{email:""}}),k=x(async d=>{s.value=null,await m.forgotPassword(d.email).then(()=>{l("after-request")}).catch(n=>{s.value=n.message})}),{value:c}=R("email");return(d,n)=>(i(),g(D,null,[s.value?(i(),p(L,{key:0,color:"error"},{default:t(()=>[o(F(s.value),1)]),_:1})):f("",!0),e(z,{onSubmit:T(r(k),["prevent"]),class:"mt-sm-13 mt-8"},{default:t(()=>[G,e(y,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:t(()=>[H]),_:1}),e(S,{modelValue:r(c),"onUpdate:modelValue":n[0]||(n[0]=u=>$(c)?c.value=u:null),placeholder:"email@agcocorp.com",type:"email",autofocus:"","error-messages":r(h).email},null,8,["modelValue","error-messages"]),e(P,{size:"large",type:"submit",loading:r(b),color:"primary",block:"",flat:""},{default:t(()=>[I]),_:1},8,["loading"])]),_:1},8,["onSubmit"])],64))}},K={class:"mt-sm-13 mt-8"},O=o("Digite o seu código de segurança de 6 dígitos."),Q={class:"d-flex"},W=o("Digite a nova senha."),X={class:"d-flex"},ee=o("Resetar a senha "),te={class:"text-h6 mt-5 font-weight-regular"},se=o(" Didn't get the code? "),ae=o(" Resend"),oe={emits:["after-reset"],setup(v,{emit:l}){const m=B(),s=A(null),_=C({token:V().required().label("Token"),password:V().min(8).required().matches(/^(?=.*[a-zA-Z])(?=.*[0-9])/,"Senha deve conter 8 caracteres e pelo menos uma letra e um número").label("Senha")}),{handleSubmit:x,errors:h,isSubmitting:b}=N({validationSchema:_,initialValues:{token:"",password:""}}),k=x(async n=>{s.value=null,await m.resetPassword(n.token,n.password).then(()=>{l("after-reset")}).catch(u=>{s.value=u.message})}),{value:c}=R("token"),{value:d}=R("password");return(n,u)=>{const E=j("RouterLink");return i(),g(D,null,[s.value?(i(),p(L,{key:0,color:"error"},{default:t(()=>[o(F(s.value),1)]),_:1})):f("",!0),e(z,{onSubmit:T(r(k),["prevent"]),class:"mt-sm-13 mt-8"},{default:t(()=>[a("div",K,[e(y,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:t(()=>[O]),_:1}),a("div",Q,[e(S,{modelValue:r(c),"onUpdate:modelValue":u[0]||(u[0]=w=>$(c)?c.value=w:null),autofocus:"",maxlength:6,"error-messages":r(h).token},null,8,["modelValue","error-messages"])]),e(y,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:t(()=>[W]),_:1}),a("div",X,[e(S,{modelValue:r(d),"onUpdate:modelValue":u[1]||(u[1]=w=>$(d)?d.value=w:null),type:"password",autofocus:"","error-messages":r(h).password},null,8,["modelValue","error-messages"])]),e(P,{size:"large",type:"submit",loading:r(b),color:"primary",block:"",flat:""},{default:t(()=>[ee]),_:1},8,["loading"]),a("h6",te,[se,e(E,{to:"/",class:"text-primary text-subtitle-1 text-decoration-none pl-1 font-weight-medium"},{default:t(()=>[ae]),_:1})])])]),_:1},8,["onSubmit"])],64)}}},le=o(" Sua senha foi redefinida com sucesso! "),re={setup(v){const l=A("forgotPassword");return(m,s)=>(i(),g("div",null,[l.value==="forgotPassword"?(i(),p(J,{key:0,onAfterRequest:s[0]||(s[0]=_=>l.value="resetPassword")})):f("",!0),l.value==="resetPassword"?(i(),p(oe,{key:1,onAfterReset:s[1]||(s[1]=_=>l.value="reset")})):f("",!0),l.value==="reset"?(i(),p(L,{key:2,color:"success",class:"mb-2"},{default:t(()=>[le]),_:1})):f("",!0)]))}},ie={class:"pa-3"},ne={class:"auth-header pt-sm-6 pt-2 px-sm-6 px-3 pb-sm-6 pb-0"},ue={class:"position-relative"},ce=a("div",{class:""},[a("img",{src:M,class:"position-relative d-none d-lg-flex",alt:"login-background"})],-1),de={class:"pa-sm-7 pa-4"},me=a("h2",{class:"text--darken-2 text-h4 font-weight-bold"},"SYSCALL",-1),_e=o("Back to Login"),xe=Y({setup(v){return(l,m)=>(i(),g("div",ie,[e(Z,{class:"h-100vh mh-100 auth"},{default:t(()=>[e(q,{cols:"12",lg:"8",xl:"8",xxl:"9",class:"d-lg-flex align-center justify-center authentication position-relative"},{default:t(()=>[a("div",ne,[a("div",ue,[e(U)])]),ce]),_:1}),e(q,{cols:"12",lg:"4",xl:"4",xxl:"3",class:"d-flex align-center justify-center"},{default:t(()=>[a("div",de,[me,e(re),e(P,{size:"large",color:"lightprimary",to:"/login",block:"",class:"mt-5 text-primary",flat:""},{default:t(()=>[_e]),_:1})])]),_:1})]),_:1})]))}});export{xe as default};
